doctype html
html
	head
		title Mental Math 2 | Play
		script(src='http://code.responsivevoice.org/responsivevoice.js')
		p#question #{questions[score].num1} #{questions[score].op}  #{questions[score].num2} 
			p#score #{score}
			input#answer
			button.btn.btn-primary#check-button Enter

	script(type="text/javascript").
		let score = !{JSON.stringify(score)};
		const questions = !{JSON.stringify(questions)};
		const scoreElem = document.getElementById('score');
		const qElem = document.getElementById('question');
		responsiveVoice.speak(`${questions[score].num1} ${questions[score].op} ${questions[score].num2}`);

		document.getElementById('check-button').addEventListener('click', function() {
			let input = parseInt(document.getElementById('answer').value);

			if (input && typeof input === 'number') {
				if (input === questions[score].answer) {
					responsiveVoice.speak(`was ${questions[score].answer}`);
					score++
					scoreElem.innerHTML = score;
					if (score < questions.length) {
					qElem.innerHTML = `${questions[score].num1} ${questions[score].op}  ${questions[score].num2}`;
					setTimeout(() => { responsiveVoice.speak(`${questions[score].num1} ${questions[score].op}  ${questions[score].num2}`, "UK English Male")}, 1000);
				}

				else {
					console.log('you win!');
				}

				}

				else {
					console.log('wrong!')
				}
			}
			else {
				alert('please enter a valid input!');
			}


		});
